const{cmd}=require("../command");cmd({pattern:"forward",alias:["fwd"],desc:"Forward to inbox",category:"owner",filename:__filename},async(c,m,t,{isOwner:o})=>{if(!o)return await m.reply("Owner only");if(!m.quoted)return await m.reply("Reply to a message");let j=t?.trim();if(!j)return await m.reply("Provide JID");let a=j.split(/[\s,]+/).map(e=>{e=e.replace(/(@g\.us|@s\.whatsapp\.net)$/i,"");return/^\d+$/.test(e)?`${e}@s.whatsapp.net`:null}).filter(Boolean);if(!a.length)return await m.reply("No valid JID found");let x={},y=m.quoted.mtype;try{const b=await m.quoted.download();if(y==="imageMessage")x={image:b,caption:m.quoted.text||""};else if(y==="videoMessage")x={video:b,caption:m.quoted.text||""};else if(y==="audioMessage")x={audio:b,mimetype:m.quoted.mimetype||"audio/mp4",ptt:m.quoted.ptt||!1};else if(y==="stickerMessage")x={sticker:b};else if(y==="documentMessage")x={document:b,fileName:m.quoted.fileName||"file"};else x={text:m.quoted.text};for(const e of a)await c.sendMessage(e,x);await m.reply(`âœ… Sent to ${a.length} user(s)`)}catch(e){await m.reply("Failed to forward")}})
